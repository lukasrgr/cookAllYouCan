!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Gem=t():e.Gem=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){"use strict";function i(){var e=arguments;if(1==e.length)var t={init:a},n=e[0];else var t=e[0],n=e[1];var f={};-1!==[Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError].indexOf(t)&&(t=r(t,f));var d="function"==typeof t;n[c]=d?t[c]:t;var v=new n(t);f.name=v.name,!v[l]&&d&&(v[l]=function(){t.apply(this,arguments)});var p=function(){};p[c]=v;var m=v.name?v.name:"";if(v[l]===s||v[l]===a)var y=new Function("F","return function "+m+"(){return new F()}")(p);else var y=new Function("F","i","u","n","return function "+m+"(){ var x=new F(),r=i.apply(x,arguments)\nif(r===n)\nreturn x\nelse if(r===u)\nreturn n\nelse\nreturn r\n}")(p,v[l],i[u]);v.constructor=y;for(var g in v)o(y,v,g);for(var g in t)h.call(t,g)&&y[g]===s&&o(y,t,g);return y.parent=t,y[c]=v,y}function r(e,t){function n(){var n=new e(arguments[0]);return n.name=t.name,this.message=n.message,Object.defineProperty?Object.defineProperty(this,"stack",{get:function(){return n.stack},configurable:!0}):this.stack=n.stack,this}var i=function(){};return i.prototype=e.prototype,n.prototype=new i,n}function o(e,t,n){try{var i=Object.getOwnPropertyDescriptor(t,n);i.get!==s||i.get!==s&&Object.defineProperty!==s?Object.defineProperty(e,n,i):e[n]=t[n]}catch(e){}}var s,a=function(){},c="prototype",u="undefined",l="init",h={}.hasOwnProperty;i[u]={},e.exports=i},function(e,t,n){function i(e,t){if(e.length>1)var n=e[0],i=e[1];else{if(null===document.body)throw new Error("Your document does not have a body.");var n=document.body,i=e[0]}if(!(i instanceof Array))var i=[i];for(var r=0;r<i.length;r++)t?n.parentNode.insertBefore(i[r].domNode,n):n.appendChild(i[r].domNode),h.setAttachStatus(i[r],!0),i[r].style=i[r]._style}function r(e){return void 0!==e.add&&e.children instanceof Array&&void 0!==e.domNode}var o=n(12),s=n(0),a=n(13),c=n(14),u=n(5),l=n(3),h=n(7),f=n(18),d=n(2);d.isDev=function(){return f.dev};var v={},p=u.arrayToMap(["abort","afterprint","animationend","animationiteration","animationstart","audioprocess","beforeprint","beforeunload","beginEvent","blocked","blur","cached","canplay","canplaythrough","change","chargingchange","chargingtimechange","checking","click","close","compassneedscalibration","complete","compositionend","compositionstart","compositionupdate","contextmenu","copy","cut","dblclick","decivelight","devicemotion","deviceorientation","deviceproximity","dischargingtimechange","DOMContentLoaded","downloading","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","endEvent","error","focus","focusin","focusout","fullscreenchange","fullscreenerror","gamepadconnected","gamepaddisconnected","hashchange","input","invalid","keydown","keypress","keyup","languagechange","levelchange","load","loadeddata","loadedmetadata","loadend","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","noupdate","obsolete","offline","online","open","orientationchange","pagehide","pageshow","paste","pause","pointerlockchange","pointerlockerror","play","playing","popstate","progress","ratechange","readystatechange","repeatEvent","reset","resize","scroll","seeked","seeking","select","show","stalled","storage","submit","success","suspend","SVGAbort","SVGError","SVGLoad","SVGResize","SVGScroll","SVGUnload","SVGZoom","timeout","timeupdate","touchcancel","touchend","touchenter","touchleave","touchmove","touchstart","transitionend","unload","updateready","upgradeneeded","userproximity","versionchange","visibilitychange","volumechange","waiting","wheel"]);e.exports=s(o,function(e){function t(e){if(void 0!==e._style){if(e._style.inherit){var t=h.getInheritingStyle(e);if(void 0!==t)return t.mix(e._style,!1)}return e._style}return h.getInheritingStyle(e)}function n(e,t){var n=function(){return document.activeElement===this.domNode},i=function(e){t&&(this.quietFocus=!0),e?this.domNode.focus():this.domNode.blur()};if(t){var r=e.quiet;n=n.bind(e),i=i.bind(e)}else var r=e;Object.defineProperty(r,"focus",{get:n,set:i})}function s(e,t,n,i,r){!(n in p)||void 0!==e.excludeDomEvents&&n in e.excludeDomEvents||e.domNode.addEventListener(n,i[n]=function(){"focus"===n&&e.quietFocus||t.emit.apply(t,[n].concat(Array.prototype.slice.call(arguments)))},r)}function u(e,t,n,i){!(t in p)||void 0!==e.excludeDomEvents&&t in e.excludeDomEvents||e.domNode.removeEventListener(t,n[t],i)}this.name="Gem",this.init=function(){var t=this;if("Gem"===this.name)throw new Error("The 'name' property is required for Gem (it must be set to something that isn't 'Gem')");e.init.call(this),this.attached=!1,void 0===this.children&&(this.children=[]),this.state=c({}),this.parent=void 0,this._styleSetupInfo=[],this._nativePseudoclassMap={},void 0!==this.id&&(v[this.id]=this),void 0===this.domNode&&(this.domNode=l.div()),this.quiet={},n(this,!0),this.build.apply(this,arguments),this.attr("gem",this.name),this.domNode.className+=" "+d.defaultClassName;var i={};t.ifon(function(e){s(t,t,e,i)}),t.ifoff(function(e){u(t,e,i)}),this.ifonCaptureHandlers={},this.ifonCaptureHandlerCounts={},this.captureEmitter=new o},this.build=function(){},this.domNode,this.label,this.excludeDomEvents,this.children,Object.defineProperty(this,"label",{get:function(){return this._label},set:function(e){if(void 0!==this._label)throw new Error("A Gem's label can only be set once (was already set to: "+this._label+")");this._label=e,this.attr("label",this._label)}}),this.add=function(){this.addAt.apply(this,[this.domNode.children.length].concat(a(arguments)))},this.addAt=function(e){for(var t=b.apply(this,arguments),n=0;n<t.length;n++){var i=t[n];if(void 0!==i.parent)throw new Error("Node at index "+n+" already has a parent. Remove the node from its parent before adding it somewhere else.");if(!r(i))throw new Error("node is not a Gem");this.children.splice(e+n,0,i);var o=this.children[1+n+e];void 0===o?this.domNode.appendChild(i.domNode):this.domNode.insertBefore(i.domNode,o.domNode),i.parent=this,i.emit("newParent")}if(this.attached)for(var n=0;n<t.length;n++){var i=t[n];h.setAttachStatus(i,!0),i.style=i._style}},this.addBefore=this.addBeforeNode=function(e){var t=a(arguments).slice(1);if(void 0===e)this.add.apply(this,t);else{var n=this.children.indexOf(e);this.addAt.apply(this,[n].concat(t))}},this.remove=function(){var e=g.apply(this,arguments);e=e.sort(function(e,t){return t-e});for(var t=0;t<e.length;t++){var n=e[t],i=this.children[n];if(void 0===i)throw new Error("There is no child at index "+n);i.parent=void 0,this.children.splice(n,1),this.domNode.removeChild(this.domNode.childNodes[n]),i.emit("parentRemoved"),this.attached&&i.emit("detach")}},this.attr=function(){if(1===arguments.length){if(!(arguments[0]instanceof Object)){var e=this.domNode.getAttribute(arguments[0]);return null===e?void 0:e}var t=arguments[0];for(var e in t)l.setAttribute(this.domNode,e,arguments[0][e])}else{var e=arguments[0];if(void 0!==arguments[1]){var n=arguments[1];l.setAttribute(this.domNode,arguments[0],n)}else this.domNode.removeAttribute(e)}},Object.defineProperty(this,"visible",{get:function(){return"none"!==this.domNode.style.display},set:function(e){e?void 0!==this._displayStyle?(this.domNode.style.display=this._displayStyle,this._displayStyle=void 0):this.domNode.style.display="":(""!==this.domNode.style.display&&"none"!==this.domNode.style.display&&(this._displayStyle=this.domNode.style.display),this.domNode.style.display="none")}}),n(this,!1),Object.defineProperty(this,"style",{get:function(){return this._style},set:function(e){if(void 0===e||h.isStyleObject(e)?this._style=e:this._style=d(e),this.attached){var n=t(this),i=this.getDefaultStyle(),r=h.mixStyles(i,n);h.setCurrentStyle(this,r,i)}}}),Object.defineProperty(this,"selectionRange",{get:function(){return l.getSelectionRange(this.domNode)},set:function(e){l.setSelectionRange(this.domNode,e[0],e[1])}}),this.attach=function(e){void 0!==e?m(e,this):m(this)},this.attachBefore=function(e){void 0!==e?i([e,this],!0):i([this],!0)},this.detach=function(e){void 0!==e?y(e,this):y(this)},this.onCapture=function(e,t){e in this.ifonCaptureHandlers||s(this,this.captureEmitter,e,this.ifonCaptureHandlers,!0),this.ifonCaptureHandlerCounts[e]++,this.captureEmitter.on(e,t)},this.offCapture=function(e,t){this.ifonCaptureHandlerCounts[e]--,this.captureEmitter.off(e,t),0===this.ifonCaptureHandlerCounts[e]&&ifoffBrowserEvent(this,e,this.ifonCaptureHandlers,!0)},this.proxy=function(t,n){return void 0===n&&(n={except:[]}),void 0!==n.except&&(n.except=n.except.concat(["newParent","parentRemoved"])),e.proxy.apply(this,[t,n])},this.computedStyleMap,this._nativePseudoclassMap,this._style,this._currentStyle,this._activeStyle,this._displayStyle,this._styleSetupInfo,this._stateChangeHandler,this.attached,this.getDefaultStyle=function(){return h.getDefaultStyle(this)}});Object.defineProperty(e.exports,"dev",{get:function(){return f.dev},set:function(e){f.dev=e}});var m=e.exports.attach=function(){i(arguments,!1)};e.exports.attachBefore=function(){i(arguments,!0)};var y=e.exports.detach=function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];n.domNode.parentNode.removeChild(n.domNode),h.setAttachStatus(n,!1)}};e.exports.createBody=function(e){var t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),n=t.createElement("body");t.documentElement.appendChild(n),setTimeout(function(){e()},0)};var g=e.exports.normalizeRemoveArguments=function(){var e=this;if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments);return t.map(function(t,n){if(r(t)){var i=e.children.indexOf(t);if(-1===i)throw new Error("The Gem passed at argument index "+n+" is not a child of this Gem.");return i}return t})},b=e.exports.normalizeAddAtArguments=function(){return 2===arguments.length?arguments[1]instanceof Array?arguments[1]:[arguments[1]]:a(arguments).slice(1)}},function(e,t,n){function i(e,t){if(null===e.domNode.parentNode)return!1;var n=e.domNode.parentNode.children;return t(Array.prototype.indexOf.call(n,e.domNode))}function r(e,t){if(null===e.domNode.parentNode)return!1;var n=e.domNode.parentNode.children;return n[n.length-parseInt(t)]===e.domNode}function o(e){var t=e.replace(/\s/g,"").match(x);if(null===t)throw new Error("nth-child parameter '"+e+"' isn't valid");if(void 0!==t[2])var n=t[3],i=t[5];else{var n=t[9],i=t[7];void 0===i&&"n"===t[8]&&(i=1)}return n=void 0===n?0:parseInt(n),i=void 0===i?0:"+"===i?1:"-"===i?-1:parseInt(i),{variable:i,constant:n}}function s(e,t){return"number"==typeof t&&void 0===S[e]?t+"px":t.toString()}function a(e){var t=e.match(w);if(null===t)throw new Error("Pseudoclass '"+e+"' is invalid");return{class:t[1],parameter:t[3]}}function c(e){return void 0!==e&&void 0!==e.componentStyleMap}function u(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function l(e){for(var t=void 0,n=document.querySelectorAll("style"),i=0;i<n.length;i++){var r=n[i].sheet;h.defaultSheet=r;var o=h.get(e);if(Object.keys(o).length>0){t=i;break}}return h.defaultSheet=void 0,t}var h=n(17),f=n(0),d=n(8),v=n(5),p="_ComponentStyle_",m=0,y=new d,g=e.exports=f(function(){function e(t,n){for(var i in t)if(i in n){if(!t[i].pureNative)return!0;var r=n[i];if(e(t,r.componentStyleMap))return!0;for(var o=r.pseudoclasses.classes.values(),s=0;s<o.length;s++){var a=o[s];if(e(t,a.componentStyleMap))return!0}}return!1}function e(t,n){for(var i in n){if(i in t&&!t[i].pureNative)return!0;var r=n[i];if(e(t,r.componentStyleMap))return!0;for(var o=r.pseudoclasses.classes.values(),s=0;s<o.length;s++){var a=o[s];if(e(t,a.componentStyleMap))return!0}}return!1}function t(e){var t=a(e),n=b[t.class];if(void 0===n)throw new Error("Pseudoclass "+t.class+" isn't emulated, but has a style that can't be rendered in pure css");var i={fns:n};return void 0!==t.parameter&&(void 0!==n.processParameter?i.parameter=n.processParameter(t.parameter):i.parameter=t.parameter),i}function i(e,t,n){var i=v.merge({},e.basicProperties,t.basicProperties),o=g(i);return o.componentStyleMap=r(e,t),o.pseudoclasses=h(e,t),void 0!==t.stateHandler?o.stateHandler=t.stateHandler:o.stateHandler=e.stateHandler,void 0!==t.setup?o.setup=t.setup:o.setup=e.setup,void 0!==t.kill?o.kill=t.kill:o.kill=e.kill,n&&(o.inherit=e.inherit||t.inherit),o.pureNative=l(o),o}function r(e,t){var n=v.merge({},e.componentStyleMap);for(var i in t.componentStyleMap){var r=t.componentStyleMap[i];n[i]=o(n[i],r)}return n}function o(e,t){return void 0===t?e:t.inherit?void 0===e?t:e.mix(t,!1):t}function l(e){if(void 0===e.setup&&void 0===e.kill&&void 0===e.stateHandler){var t=!0;if(e.pseudoclasses.classes.forEach(function(e){e.pureNative||(t=!1)}),!t)return!1;var n=!0;for(var i in e.componentStyleMap)if(!0!==e.componentStyleMap[i].pureNative){n=!1;break}return!!n}}function h(e,t){return{classes:function(e,t){var n=v.hashmapMerge(new d,e);return t.forEach(function(e,i){if(n.has(i))var r=n.get(i).mix(t.get(i),!0);else var r=t.get(i);n.set(i,r)}),n}(e.pseudoclasses.classes,t.pseudoclasses.classes),emulatedInfo:v.merge({},e.pseudoclasses.emulatedInfo,t.pseudoclasses.emulatedInfo)}}function f(e,t){function n(e,t,n,a){var c,u;if(S.exec(t))c=t,u=s(t);else{if(!E.exec(t))return!1;c=r(t),u=t}if(!w){try{i(e,c,a)}catch(n){i(e,o(t),a)}n.length<=a&&(w=!0)}return w&&i(e,u,a),!0}function i(e,t,n){e.insertRule?e.insertRule(t+" { }",n):e.addRule(t,null,n)}function r(e){return e.replace(E,function(e,t,n,i){return t+"::"+i})}function o(e){return e.replace(E,function(e,t,n,i){return t+"::-moz-"+i})}function s(e){return e.replace(S,function(e,t,n){return":"+n})}var a={};for(key in t)a[u(key)]=t[key];var c=function(e,t){var r=e.cssRules||e.rules||[],o=r.length;return n(e,t,r,o)||i(e,t,o),r[o].style}(k.defaultSheet,e);!function(e,t){for(var n in t)e.setProperty(n,t[n])}(c,t)}function x(e,t,i,r,o){function a(e,t,n){void 0===h[e]&&(h[e]={}),h[e][t]=n}function c(e,n,i,r){if(!t.nativePseudoclassesWritten[e]){var a={};if(r){var c=Object.keys(i.basicProperties);i.pseudoclasses.classes.forEach(function(e){c=c.concat(Object.keys(e.basicProperties))});for(var l=0;l<c.length;l++){var h=c[l];if(o)var d=o.basicProperties[h];var v=d||_[h]||(h in N?"inherit":"initial");a[h]=v}}for(var h in n){var p=n[h],m=h,y=u(m);a[y]=s(y,p)}f(e,a),void 0!==this.nativePseudoclassStyles&&(i.nativePseudoclassStyles[e]=a),t.nativePseudoclassesWritten[e]=!0}}void 0===i&&(i={});var l=[],h={},d=0;t.pseudoclasses.classes.forEach(function(e,n){var i="."+t.className+":"+n.join(":");if(e.pureNative){c(i,e.basicProperties,t,!1),l.push(n.join(":"));for(var o in e.componentStyleMap)a(o,i,e.componentStyleMap[o])}else if(d===r)for(var s=0;s<l.length;s++){var u=l[s];c(i+":"+u,t.basicProperties,t,!0)}d++});var v=n(7);for(var p in i){var m=i[p];m.inherit&&(m=v.getInheritingStyle(e).mix(m,!1));var y=p+" ."+t.className;c(y,m.basicProperties,t,!0);for(var g in m.componentStyleMap)a(g,y,m.componentStyleMap[g]);m.pseudoclasses.classes.forEach(function(e,n){e.pureNative&&c(y+":"+n.join(":"),e.basicProperties,t,!0)})}return h}this.fromString=function(e,t){void 0===t&&(t={});var n=JSON.parse(e),i=function(e){for(var n in e){var r=e[n];if(r instanceof Object)i(r);else if("string"==typeof r&&"function"===r.substr(0,8)){void 0===t.Style&&(t.Style=g);var o=[],s=[];for(var a in t)o.push(a),s.push(t[a]);e[n]=Function(o,"return "+r).apply(void 0,s)}}};return i(n),g(n)},this.defaultClassName="_default_",this.init=function(n,i){function r(e){e.sort();for(var t=e[0],n=1;n<e.length;)e[n]===t?e.splice(n,1):n++;return e}function o(e,t,n){if(e.has(t))var i=e.get(t).mix(n,!1);else var i=n;e.set(t,i)}if(c(n))return n;void 0===i&&(i={}),this.className=p+m,m++,this.componentStyleMap={},this.nativeCssInfoCache=new d,this.nativePseudoclassesWritten={},this.basicProperties={},g.isDev()&&(this.nativePseudoclassStyles={});var h=new d;for(var f in n){var v=n[f];if("$setup"===f){if(!(v instanceof Function))throw new Error("$setup key must be a function ('setup' can't be used as a label)");this.setup=v}else if("$kill"===f){if(!(v instanceof Function))throw new Error("$kill key must be a function ('kill' can't be used as a label)");this.kill=v}else if("$state"===f){if(!(v instanceof Function))throw new Error("$state key must be a function ('$state' can't be used as a label)");this.stateHandler=v}else if("$inherit"===f)this.inherit=!0;else if(0===f.indexOf("$$")){var y=a(f.substr(2)),x=u(y.class);if(void 0!==y.parameter&&(x+="("+y.parameter+")"),""===x)throw new Error("Empty pseudo-class name not valid (style key '$$')");var w=function(e,t){if(void 0!==t.stateHandler)throw new Error("$state style functions are not valid directly inside psuedoclasses");var n=new d,i=t.copy(),o=i.pseudoclasses;return i.pseudoclasses={classes:new d,emulatedInfo:{}},n.set(e,i),o.classes.forEach(function(t,o){var s=r(e.concat(o)),a=i.mix(t,!1);n.set(s,a)}),n}([x],g(v));w.forEach(function(e,t){o(h,t,e)})}else{if("$"===f)throw new Error("Empty label name not valid (style key '$')");if(v instanceof Object||c(v))this.componentStyleMap[f]=g(v);else if(void 0===v);else{var S=f,_=u(S);this.basicProperties[_]=s(_,v)}}}this.pseudoclasses=function(n,i){var r=new d;n.forEach(function(t,n){if(t.pureNative){for(var o=!0,s=0;s<n.length;s++){var c=a(n[s]),u=b[c.class];if(void 0!==u&&!u.emulated){o=!1;break}}var l=!1;o&&(l=e(i,t.componentStyleMap)),t.pureNative=o&&!l}for(var s=0;s<n.length;s++){var c=a(n[s]),u=b[c.class];if(void 0!==u&&void 0!==u.parameterTransform){var h=u.parameterTransform(c.parameter);n[s]=c.class+"("+h+")"}}r.set(n,t)});var o={};return r.forEach(function(e,n){e.pureNative||n.forEach(function(e){e in o||(o[e]=t(e))})}),{classes:r,emulatedInfo:o}}(h,this.componentStyleMap),this.pureNative=l(this)},this.mix=function(e,t){if(void 0===t&&(t=!0),void 0===e||e===this)return this;c(e)||(e=g(e));var n=[this,e,t],r=y.get(n);if(void 0===r){var r=i(this,e,t);y.set(n,r)}return r},this.copy=function(){return i(this,g(),!0)},this.createNativeCssInfo=function(e,n,i,r,o){function s(e,t){e.set(u,t)}function a(e){function t(e,t){n[e]=!0;var i=a(t);v.merge(n,i)}var n={};for(var i in e.componentStyleMap){t(i,e.componentStyleMap[i])}return e.pseudoclasses.classes.forEach(function(e){if(e.pureNative)for(var n in e.componentStyleMap){var i=e.componentStyleMap[n];t(n,i)}}),n}if(this.inherit)var c=e.parent;var u=[c,n,i,r,o];if(this.nativeCssInfoCache.has(u))return this.nativeCssInfoCache.get(u);var l=this;if(this.pureNative&&0!==this.pseudoclasses.classes.keys().length){var h=a(this),p=function(e,t){var n=[],i=[];for(var r in e){var o=t[r];void 0===o?i.push(r):o.pureNative||n.push(r)}return{impure:n,undef:i}}(h,n);if(p.impure.length>0){var m=this.copy();!function(e){e.pureNative=!1;var n=new d;e.pseudoclasses.classes.forEach(function(i,r){var o=i.copy();o.pureNative=!1,n.set(r,o),r.forEach(function(n){n in i.pseudoclasses.emulatedInfo||(e.pseudoclasses.emulatedInfo[n]=t(n))})}),e.pseudoclasses.classes=n}(m);var y={cancel:!0,retryStyle:m};return s(this.nativeCssInfoCache,y),y}var b=v.merge({},n);for(var w in b)w in h&&(b[w]=b[w].copy());for(var S=0;S<p.undef.length;S++)b[p.undef[S]]=g();l=this.copy(),n=b}l.basicNativeCssRendered||(f("."+l.className,l.basicProperties),l.basicNativeCssRendered=!0);var _=x(e,l,i,r,o),y={style:l,styleMap:n,nativePseudoclassMap:_};return s(this.nativeCssInfoCache,y),y},this.toObject=function(){var e={};for(var t in this.basicProperties)e[t]=this.basicProperties[t];this.inherit&&(e.$inherit=!0);for(var n in this.componentStyleMap)e[n]=this.componentStyleMap[n].toObject();var i=function(t,n){var i,r,o=e;t.forEach(function(e){var t="$$"+e;void 0===o[t]&&(o[t]={}),r=t,i=o,o=o[r]});var s=n.toObject();for(var a in s)i[r][a]=s[a]};return void 0!==this.pseudoclasses.classes&&this.pseudoclasses.classes.forEach(function(e,t){i(t,e)}),void 0!==this.stateHandler&&(e.$state=this.stateHandler),void 0!==this.setup&&(e.$setup=this.setup),void 0!==this.kill&&(e.$kill=this.kill),e},this.toString=function(){var e=this.toObject(),t=function(e){for(var n in e){var i=e[n];i instanceof Function?e[n]=i.toString():i instanceof Object&&t(i)}};return t(e),JSON.stringify(e)},this.className,this.componentStyleMap,this.setup,this.kill,this.nativeCssInfoCache,this.basicNativeCssRendered;var w=!1,S=/(::)(before|after|first-line|first-letter|selection)/,E=/([^:])(:)(before|after|first-line|first-letter|selection)/}),b={hover:{emulated:!0,check:function(e){for(var t=document.querySelectorAll(":hover"),n=0;n<t.length;n++)if(t[n]===e.domNode)return!0;return!1},setup:function(e,t,n){return e.on("mouseover",function(){t()}),e.on("mouseout",n),{start:t,end:n}},kill:function(e,t){e.off("mouseover",t.start),e.off("mouseout",t.end)}},checked:{emulated:!0,check:function(e){return"INPUT"!==e.domNode.nodeName&&"OPTION"!==e.domNode.nodeName?(console.warn("The pseudoclass 'checked' can only apply to 'input' nodes (Button, CheckBox, RadioButton, or TextField) or 'option' nodes (Option)"),!1):e.selected},setup:function(e,t,n){var i={};return e.on("change",i.listener=function(){e.selected?t():n()}),i},kill:function(e,t){e.removeListener("change",t.listener)}},required:{emulated:!0,check:function(e){return"INPUT"!==e.domNode.nodeName?(console.warn("The pseudoclass 'required' can only apply to 'input' nodes (Button, CheckBox, RadioButton, or TextField)"),!1):void 0!==e.attr("required")},setup:function(e,t,n){var i=new MutationObserver(function(){void 0!==e.attr("required")?t():n()});return i.observe(e.domNode,{attributes:!0}),{observer:i}},kill:function(e,t){t.observer.disconnect()}},"last-child":{emulated:!0,check:function(e){return r(e,"1")},setup:function(e,t,n){var i=new MutationObserver(function(){r(e,"1")?t():n()}),o=function(){i.observe(e.parent.domNode,{childList:!0})};return void 0!==e.parent&&o(),e.on("newParent",function(){o()}),e.on("parentRemoved",function(){i.disconnect()}),{observer:i}},kill:function(e,t){t.observer.disconnect()}},"nth-child":{emulated:!0,parameterTransform:function(e){var t=o(e);return 0===t.variable?t.constant+"":0===t.constant?t.variable+"n":t.variable+"n+"+t.constant},check:function(e,t){return i(e,t)},setup:function(e,t,n,r){var o=function(){i(e,r)?t():n()},s=new MutationObserver(function(){o()}),a=function(){s.observe(e.parent.domNode,{childList:!0})};return void 0!==e.parent&&a(),e.on("newParent",function(){a(),o()}),e.on("parentRemoved",function(){s.disconnect(),o()}),{observer:s}},kill:function(e,t){t.observer.disconnect()},processParameter:function(e){var t=o(e);return 0===t.variable?function(e){return e+1===t.constant}:function(e){return(e+1-t.constant)/t.variable%1==0}}},not:{emulated:!0,parameterTransform:function(e){return e.split(",").map(function(e){return e.split(":").map(function(e){var t=a(e),n=u(t.class);return void 0!==t.parameter?n+"("+t.parameter+")":n}).join(":")}).join(",")},check:function(e,t){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")},setup:function(e,t,n,i){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")},kill:function(e,t){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")},processParameter:function(e){throw new Error("The 'not' psuedoclass can only be used in Style objects that can be rendered in native css as of yet")}}};e.exports.addPseudoClass=function(e,t){var n=u(e);if(void 0!==b[n]){var i='"'+n+'"';throw n!==e&&(i+=" (mapped from '"+e+"')"),new Error("The pseudoclass "+i+" is already defined.")}b[n]=t};var x=new RegExp("^(((-?\\d*)(([+-]\\d*)n?)?)|((-?\\d)*(n)?([+-]\\d*)?))$"),w=new RegExp("([^(]*)(\\((.*)\\))?$"),S={"column-count":1,"fill-opacity":1,"flex-grow":1,"flex-shrink":1,"font-weight":1,"line-height":1,opacity:1,order:1,orphans:1,widows:1,"z-index":1,zoom:1},_={azimuth:"center","border-collapse":"separate","border-spacing":"0","box-sizing":"border-box","caption-side":"top",direction:"ltr",display:"inline-block",elevation:"","empty-cells":"show","letter-spacing":"normal","line-height":"normal","list-style-image":"none","list-style-position":"outside","list-style-type":"disc",orphans:"2","pitch-range":"",pitch:"",position:"relative",quotes:"",richness:"","speak-header":"","speak-numeral":"","speak-punctuation":"",speak:"","speak-rate":"",stress:"","text-align":"left","text-indent":"0","text-transform":"none","voice-family":"",volume:"","white-space":"normal",widows:"2","word-spacing":"normal"},N={"font-family":1,"font-size":1,"font-style":1,"font-variant":1,"font-weight":1,visibility:1,color:1,cursor:1},E=h.forDocument(document),k=h.forDocument(document),j=l("."+g.defaultClassName);if(void 0===j)E.defaultSheet=E._createSheet(),k.defaultSheet=k._createSheet();else{console.log("Warning: the default-styles class name for blocks.js looks like its already in use. This probably means you have two versions of blocks.js loaded. If so, Gem.js will continue to work, but your app will be a bit bloated. If something other than block.js created that class, blocks.js may break that style.");var P=document.querySelectorAll("style");E.defaultSheet=P[j].sheet,k.defaultSheet=P[j+1].sheet;for(var C=0;;){var O=p+C;if(void 0===l("."+O+C+0))break;C++}p=O+C}E.set("."+g.defaultClassName,_),E.set("input",{cursor:"inherit"}),E.set("img",{"box-sizing":"content-box"}),e.exports.isDev,e.exports.jsRenderedPseduoclasses=b,e.exports.parseNthChildParameter=o},function(e,t){function n(e,t){for(var n,i=[e];n=i.pop();)if(3==n.nodeType){if(!0===t(n))break}else for(var r=n.childNodes.length;r--;)i.push(n.childNodes[r])}function i(e,t){for(var n=0,i=!0,r=0;r-n<t&&r<e.length;r++)-1!==[" ","\n","\t","\r"].indexOf(e.textContent[r])?i?n++:i=!0:i=!1;return n}t.textProperty="textContent";var r=t.node=function(e,t,n){var i=document.createElement(e);if(void 0!==n){if(void 0!==n.attr)for(var r in n.attr)o(i,r,n.attr[r]);void 0!==n.textContent&&(i.textContent=n.textContent)}return void 0!==t&&(i.className=t),i};t.div=function(e,t){return r("div",e,t)};var o=e.exports.setAttribute=function(){if(2===arguments.length)var e=this.domNode,t=arguments[0],n=arguments[1];else{if(3!==arguments.length)throw new Error("This function expects arguments to be: [domNode,] type, value");var e=arguments[0],t=arguments[1],n=arguments[2]}var i=document.createAttribute(t);i.value=n,e.setAttributeNode(i)};t.setSelectionRange=function(e,t,r){if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(t,r);else{var o=0,s=document.createRange();s.setStart(e,0),s.collapse(!0);var a=!1;n(e,function(e){var n=i(e,e.length),c=o+e.length-n;if(!a&&t>=o&&t<=c){var u=t-o,l=i(e,u);s.setStart(e,u+l),a=!0}if(a&&r>=o&&r<=c){var u=r-o,h=i(e,u);return s.setEnd(e,u+h),!0}o=c});var c=window.getSelection();c.removeAllRanges(),c.addRange(s)}},t.getSelectionRange=function(e){for(var t=window.getSelection(),r="INPUT"===e.nodeName||"TEXTAREA"===e.nodeName,o=0;o<t.rangeCount;o++){var s=t.getRangeAt(0);if(!r){var a=e.contains(s.startContainer);if(a)var c=e,u=!0;else var c=s.commonAncestorContainer,u=!1,l=!1;var h,f,d=0;return n(c,function(t){if(u){if(!a&&!e.contains(t))return!0}else{if(t===s.startContainer&&(l=!0),!e.contains(t)||!l)return;l&&(u=!0)}if(t===s.startContainer&&(h=d+s.startOffset-i(t,s.startOffset)),t===s.endContainer)return f=d+s.endOffset-i(t,s.endOffset),!0;d+=t.length-i(t,t.length)}),void 0!==h||u?(void 0===h&&(h=0),void 0===f&&(f=d),[h,f]):void 0}if(console.dir(s.startContainer.children),s.startOffset===s.endOffset&&s.startContainer.children[s.startOffset]===e)return[e.selectionStart,e.selectionEnd]}},t.setupBoundProperty=function(e,t,n,i){Object.defineProperty(t,n,{get:i.getFn.bind(e),set:i.setFn.bind(e)})}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,c=0;c<r;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){function i(e,t){var n=e[0],r=e[1];for(var o in r)t&&n[o]instanceof Object&&r[o]instanceof Object?i([n[o],r[o]],!0):n[o]=r[o];if(e.length>2){return i([n].concat(e.slice(2)),t)}return n}function r(e){return Array.prototype.slice.call(e,0)}var o=(n(6),t.merge=function(e,t){return i(r(arguments),!1)});t.deepMerge=function(e,t){return i(r(arguments),!0)};t.hashmapMerge=function(e,n){if(n.forEach(function(t,i){e.set(i,n.get(i))}),arguments.length>2){var i=[e].concat(Array.prototype.slice.call(arguments,2));return t.hashmapMerge.apply(this,i)}return e},t.objectConjunction=function(e,t){var n={};return o(n,e),o(n,t),n},t.arrayToMap=function(e){var t={};return e.forEach(function(e){t[e]=!0}),t}},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===s(e,-1);return e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,c=0;c<s;c++)if(r[c]!==o[c]){a=c;break}for(var u=[],c=a;c<r.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(16))},function(e,t,n){function i(e,t,n){function i(){var i=a(t,o),s=w(t,i.style);r(e,s,i.index,n)}var o={};for(var s in e._styleSetupInfo)if(void 0===t||!(s in t.pseudoclasses.emulatedInfo)){var c=e._styleSetupInfo[s];c.kill(e,c.state),delete e._styleSetupInfo[s]}if(void 0!==t)for(var s in t.pseudoclasses.emulatedInfo)s in e._styleSetupInfo||function(t,n){var r=n.fns.setup(e,function(){!0!==o[t]&&(o[t]=!0,i())},function(){!1!==o[t]&&(o[t]=!1,i())},n.parameter);e._styleSetupInfo[t]={state:r,kill:n.fns.kill}}(s,t.pseudoclasses.emulatedInfo[s]);if(void 0!==t)for(var u in t.pseudoclasses.emulatedInfo){var l=t.pseudoclasses.emulatedInfo[u];o[u]=l.fns.check(e,l.parameter)}i()}function r(e,t,n,r){if(void 0!==e.parent&&void 0!==t)var s=x(e.parent.computedStyleMap,t.componentStyleMap);else if(void 0!==e.parent)var s=e.parent.computedStyleMap;else if(void 0!==t)var s=t.componentStyleMap;else var s=void 0;var a=void 0,c=!1;if(void 0!==t){if(void 0!==e.parent)var u=e.parent._nativePseudoclassMap;else var u={};var l=y(u,e),h=t.createNativeCssInfo(e,s,l,n,r);h.cancel?(c=!0,i(e,h.retryStyle)):(a=h.style,s=h.styleMap,e._nativePseudoclassMap=h.nativePseudoclassMap)}c||o(e,a,s)}function o(e,t,n){var i=t!==e._activeStyle,r=e.computedStyleMap!==n;if(i){h(e,t);(void 0===e._activeStyle?void 0:e._activeStyle.setup)!==(void 0===t?void 0:t.setup)&&(l(e),u(e,t)),e._activeStyle=t}e.computedStyleMap=n,e.children.forEach(function(e){!r&&e.attached||(S(e,!0),e.style=e.style)})}function s(e,t){if(void 0!==e&&void 0!==e.stateHandler){return e.stateHandler(t)}}function a(e,t){if(void 0===e)return{index:0};var n=0,i={index:0};return e.pseudoclasses.classes.forEach(function(e,r){if(!e.pureNative){for(var o=0;o<r.length;o++){var s=r[o];if(!t[s])break}o===r.length&&(i={index:n,style:e})}n++}),i}function c(e){if(void 0!==e.defaultStyle){N(e.defaultStyle)}for(var t=[],n=e.constructor;void 0!==n;)void 0!==n.defaultStyle&&t.push(n.defaultStyle),n=n.parent;for(var i=t.reverse(),r=i[0],o=1;o<i.length;o++)r=r.mix(i[o],!1);return r}function u(e,t){void 0!==t&&void 0!==t.setup?e._styleSetupObject=t.setup(e,t):e._styleSetupObject=void 0}function l(e){var t=e._activeStyle;if(void 0!==t&&void 0!==t.setup){if(void 0===t.kill)throw new Error('style has been unset but does not have a "kill" function to undo its "setup" function');t.kill(e,e._styleSetupObject)}}function h(e,t){var n=e._activeStyle;void 0!==n&&e.domNode.classList.remove(n.className),void 0!==t&&e.domNode.classList.add(t.className)}var f=n(8),d=n(2),v=n(5),p=new f,m=new f,y=t.getStyleForComponent=function(e,t){if(void 0!==e)return g(e,t)||b(e,t)},g=t.getStyleForLabel=function(e,t){if(void 0!==t.label&&"$"+t.label in e)return e["$"+t.label]},b=t.getStyleForBlockName=function(e,t){for(var n=t.constructor;void 0!==n;){var i=e[n.name];if(void 0!==i)return i;n=n.parent}},x=(t.getInheritingStyle=function(e){var t=e.parent;if(void 0!==t&&void 0!==t.computedStyleMap){if(void 0!==e.label)var n="$"+e.label,i=e.constructor;else var n=e.constructor.name,i=e.constructor.parent;for(var r=t,o=[],s=!0;void 0!==r;){var a=function(e,t){for(var n=[],i=!0,r=e,o=e;void 0!==r;){if(void 0!==r.computedStyleMap)var s=r.computedStyleMap[t];if(void 0!==s&&(-1===n.indexOf(s)&&n.push(s),o=r,!(i=s.inherit)))break;r=r.parent}return{styles:n,nextAncestorToSearchFrom:o,inherit:i}}(r,n);if(o=o.concat(a.styles),r=a.nextAncestorToSearchFrom,s=a.inherit,void 0===i||!s)break;if("Gem"===n)break;n=i.name,i=i.parent}for(var c=o.reverse(),u=c[0],l=1;l<c.length;l++)u=u.mix(c[l],!1);return u}},t.styleMapConjunction=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=m.get([e,t]);if(void 0===n){if(void 0===e)n=t;else if(void 0===t)n=e;else{var i={},r=!1;for(var o in t)e[o]!==t[o]&&(i[o]=t[o],r=!0);n=r?v.objectConjunction(e,i):e}void 0===n&&(n=!1),m.set([e,t],n)}if(!1!==n)return n});t.getDefaultStyle=function(e){var t=p.get(e.constructor);if(void 0===t&&(t=c(e),void 0===t&&(t=!1),p.set(e.constructor,t)),!1!==t)return t};var w=t.mixStyles=function(e,t){return void 0===e?t:e.mix(t,!1)};t.setCurrentStyle=function(e,t,n){var r=void 0===e._currentStyle?void 0:e._currentStyle.stateHandler,o=void 0===t?void 0:t.stateHandler;r!==o&&(void 0!==e._stateChangeHandler&&(e.state.removeListener("change",e._stateChangeHandler),e._stateChangeHandler=void 0),void 0!==o&&e.state.on("change",e._stateChangeHandler=function(){var t=s(e._currentStyle,e.state.subject);i(e,w(e._currentStyle,t))})),e._currentStyle=t;var a=s(t,e.state.subject),c=w(t,a);i(e,c,n)};var S=t.setAttachStatus=function(e,t){e.attached=t,t?e.emit("attach"):(e.emit("detach"),e.children.forEach(function(e){S(e,!1)}))},_=new f,N=t.getStyleObject=function(e){if(E(e))return e;var t=_.get(e);if(t)return t;var t=d(e);return _.set(e,t),t},E=t.isStyleObject=function(e){return void 0!==e.className&&void 0!==e.componentStyleMap&&void 0!==e.mix}},function(e,t,n){var i,r,o;!function(n){r=[],i=n,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(function(){function e(e){switch(this.clear(),arguments.length){case 0:break;case 1:this.copy(e);break;default:t(this,arguments)}}function t(e,t){for(var n=0;n<t.length;n+=2)e.set(t[n],t[n+1])}function n(e,t){Object.defineProperty&&Object.defineProperty(e,t,{enumerable:!1})}var i=e.prototype={constructor:e,get:function(e){var t=this._data[this.hash(e)];return t&&t[1]},set:function(e,t){var n=this.hash(e);n in this._data||this._count++,this._data[n]=[e,t]},multi:function(){t(this,arguments)},copy:function(e){for(var t in e._data)t in this._data||this._count++,this._data[t]=e._data[t]},has:function(e){return this.hash(e)in this._data},search:function(e){for(var t in this._data)if(this._data[t][1]===e)return this._data[t][0];return null},remove:function(e){var t=this.hash(e);t in this._data&&(this._count--,delete this._data[t])},type:function(e){var t=Object.prototype.toString.call(e),n=t.slice(8,-1).toLowerCase();return"domwindow"!==n||e?n:e+""},keys:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},count:function(){return this._count},clear:function(){this._data={},this._count=0},clone:function(){return new e(this)},hash:function(t){switch(this.type(t)){case"undefined":case"null":case"boolean":case"number":case"regexp":return t+"";case"date":return"♣"+t.getTime();case"string":return"♠"+t;case"array":for(var i=[],r=0;r<t.length;r++)i[r]=this.hash(t[r]);return"♥"+i.join("⁞");default:return t.hasOwnProperty("_hmuid_")||(t._hmuid_=++e.uid,n(t,"_hmuid_")),"♦"+t._hmuid_}},forEach:function(e,t){for(var n in this._data){var i=this._data[n];e.call(t||this,i[1],i[0])}}};e.uid=0;var r={set:1,multi:1,copy:1,remove:1,clear:1,forEach:1};for(var o in r)i[o]=function(e){return function(){return e.apply(this,arguments),this}}(i[o]);return e})},function(e,t,n){var i=n(0),r=n(1),o=n(2),s=n(10);e.exports=function(e,t){return i(r,function(n){this.name=t,this.defaultStyle=o({display:"table-row"}),this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else var i=arguments[0],t=arguments[1];if(this.domNode=document.createElement(e),this.label=i,this.children=[],void 0!==t)for(var r=0;r<t.length;r++)this.cell(t[r]);n.init.apply(this,arguments)},this.cell=function(){var e=s.apply(void 0,arguments);return this.add(e),e}})}},function(e,t,n){var i=n(1),r=n(0),o=n(2);e.exports=r(i,function(e){this.name="TableCell",this.defaultStyle=o({display:"table-cell"}),this.init=function(){if(arguments.length<=1)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("td"),this.label=n,this.children=[],t instanceof i||"string"!=typeof t?this.add(t):void 0!==t&&(this.domNode.textContent=t),e.init.apply(this,arguments)},this.colspan=function(e){this.attr("colspan",e)}})},function(e,t,n){var t=e.exports=n(1);t.Style=n(2),t.Canvas=n(19),t.Block=n(20),t.Button=n(21),t.CheckBox=n(22),t.Image=n(23),t.List=n(24),t.Radio=n(26),t.Select=n(27),t.Svg=n(29),t.Table=n(30),t.TextArea=n(33),t.TextField=n(34),t.Text=n(35)},function(e,t,n){function i(e,t,n){r(e[t][n],n),r(e[a(t)],n)}function r(e,t){if(void 0!==e)for(var n=0;n<e.length;n++)e[n](t)}function o(e,t,n,i){if(n instanceof Function&&(i=n,n=void 0),void 0!==n&&void 0!==i){var r=e[t][n];void 0===r&&(r=e[t][n]=[]),r.push(i)}else e[a(t)].push(i)}function s(e,t,n,i){if(n instanceof Function&&(i=n,n=void 0),void 0!==n&&void 0!==i)c(e[t][n],i);else if(void 0!==n)delete e[t][n];else if(void 0!==i){var r=a(t);c(e[r],i)}else{var r=a(t);e[t]={},e[r]=[]}}function a(e){return"ifonHandlers"===e?"ifonAllHandlers":"ifoffHandlers"===e?"ifoffAllHandlers":void 0}function c(e,t){var n=e.indexOf(t);e.splice(n,1)}function u(e){var t={};return e.forEach(function(e){t[e]=!0}),t}var l=n(4).EventEmitter,h=n(0);e.exports=h(l,function(e){this.init=function(){e.apply(this,arguments),this.ifonHandlers={},this.ifoffHandlers={},this.ifonAllHandlers=[],this.ifoffAllHandlers=[]},this.ifon=function(e,t){if(e instanceof Function){t=e;for(var n in this._events)this.listeners(n).length>0&&t(n)}else this.listeners(e).length>0&&t(e);o(this,"ifonHandlers",e,t)},this.removeIfon=function(e,t){s(this,"ifonHandlers",e,t)},this.ifoff=function(e,t){o(this,"ifoffHandlers",e,t)},this.removeIfoff=function(e,t){s(this,"ifoffHandlers",e,t)},this.proxy=function(e,t){if(void 0===t&&(t={}),void 0!==t.except)var n=u(t.except),i=function(e){return!(e in n)};else if(void 0!==t.only)var r=u(t.only),i=function(e){return e in r};else var i=function(){return!0};var o,s=this;this.ifon(function(t){i(t)&&e.on(t,o=function(){s.emit.apply(s,[t].concat(Array.prototype.slice.call(arguments)))})}),this.ifoff(function(t){i(t)&&e.off(t,o)})},this.on=this.addListener=function(t,n){var r=0===this.listeners(t).length;e.prototype.on.apply(this,arguments),r&&i(this,"ifonHandlers",t)},this.off=this.removeListener=function(t,n){var r=1===this.listeners(t).length;e.prototype.removeListener.apply(this,arguments),r&&i(this,"ifoffHandlers",t)},this.removeAllListeners=function(t){var n=[];if(void 0!==t)this.listeners(t).length>0&&n.push(t);else for(var t in this._events)this.listeners(t).length>0&&n.push(t);e.prototype.removeAllListeners.apply(this,arguments);for(var r=0;r<n.length;r++)i(this,"ifoffHandlers",n[r])}})},function(e,t){e.exports=function(e){for(var t=Array.prototype.slice.call(e,0),n=0,i=t.length-1;i>=0&&void 0===t[i];i--)n++;return t.splice(t.length-n,n),t}},function(e,t,n){function i(e){return e instanceof Array||(e=e.toString().split(".")),e}function r(e,t){for(var n=e,i=0;i<t.length-1;i++)n=n[t[i]];return{obj:n,key:t[i]}}function o(e,t,n,i){if(0===t.length)throw new Error("You can't set at the top-level, setting like that only works for ObserveeChild (sub-observees created with 'get')");var o=r(e.subject,t),s=n;!0===i.union&&(n=n.subject),o.obj[o.key]=n;var a={type:"set",property:t};void 0!==i.data&&(a.data=a.id=i.data),e.emit("change",a),void 0!==i.union&&h(e,s,t,i.union)}function s(e,t,n,i){var r=m(e.subject,t),o=r.length;r.push.apply(r,n);var s=u(r,o,n.length,i.union),a={type:"added",property:t,index:o,count:n.length};void 0!==i.data&&(a.data=a.id=i.data),e.emit("change",a),l(e,s,t,i.union)}function a(e,t,n,i){var r=n[0],o=n[1],s=m(e.subject,t),a=s.splice.apply(s,n);if(o>0){var c={type:"removed",property:t,index:r,removed:a};void 0!==i.data&&(c.data=c.id=i.data),e.emit("change",c)}if(n.length>2){var c={type:"added",property:t,index:r,count:n.length-2},h=u(s,r,c.count,i.union);void 0!==i.data&&(c.data=c.id=i.data),e.emit("change",c),l(e,h,t,i.union)}return a}function c(e,t,n,i){var r=n[0];if(0!==r.length){var o=m(e.subject,t),s=o.length,a=[s,0];a=a.concat(r);var c=o.length;o.splice.apply(o,a);var h=u(o,c,o.length,i.union),f={type:"added",property:t,index:s,count:r.length};void 0!==i.data&&(f.data=f.id=i.data),e.emit("change",f),l(e,h,t,i.union)}}function u(e,t,n,i){var r=[];if(void 0!==i)for(var o=t+n,s=t;s<o;s++)r.push({obj:e[s],index:s}),!0===i&&(e[s]=e[s].subject);return r}function l(e,t,n,i){for(var r=0;r<t.length;r++)h(e,t[r].obj,n.concat(t[r].index+""),i)}function h(e,t,n,i){var r=n.length;if(void 0===t.on||void 0===t.emit||void 0===t.removeListener||void 0===t.set)throw new Error("Attempting to union a value that isn't an observee");var o,s,a=[],c=[];t.on("change",o=function(t){if(-1===c.indexOf(t)){if(i)var r=n.concat(t.property);else var r=n.concat(["subject"]).concat(t.property);var o=p.merge({},t,{property:r});a.push(o),e.emit("change",o)}}),e.onChangeInternal(s=function(e){var o=e.property.length;if(i)var s=n;else var s=n.concat(["subject"]);var l=f(s,e,!0),h=l.isWithin,d=l.couldRelocate;if(h&&-1===a.indexOf(e)){if(i)var v=e.property.slice(r);else var v=e.property.slice(r+1);var m=p.merge({},e,{property:v});c.push(m),t.emit("change",m)}else if(d)if("set"===e.type)u();else if("removed"===e.type){var y=n[e.property.length],g=e.index<=y&&y<=e.index+e.removed.length-1,b=e.index+e.removed.length-1<y&&y;g&&o<=r+1?u():b&&(n[e.property.length]=y-e.removed.length)}else if("added"===e.type){var y=n[e.property.length];e.index<y&&(n[e.property.length]=y+e.count)}});var u=function(){t.removeListener("change",o),e.offChangeInternal(s)}}function f(e,t,n){for(var i=e.length,r=void 0!==n,o=!0,s=!0,a=0;a<i;a++)void 0!==t.property[a]&&t.property[a]+""==e[a]+""||(o=!1,a<t.property.length&&(s=!1));return!r&&t.property.length<i||r&&("set"===t.type&&t.property.length<=i||"set"!==t.type&&t.property.length<i)?o=!1:s=!1,{couldRelocate:s,isWithin:o}}var d=n(0),v=n(4).EventEmitter,p=n(15),m=(e.exports=d(v,function(e){this.init=function(e){this.subject=e,this.internalChangeListeners=[],this.setMaxListeners(1e3)},this.get=function(e){return y(this,i(e))},this.set=function(e,t){o(this,i(e),t,{})},this.push=function(){s(this,[],arguments,{})},this.pop=function(){return a(this,[],[this.subject.length-1,1],{})[0]},this.unshift=function(){a(this,[],[0,0].concat(Array.prototype.slice.call(arguments,0)),{})},this.shift=function(){return a(this,[],[0,1],{})[0]},this.reverse=function(){this.subject.reverse(),this.emit("change",{type:"set",property:[]})},this.sort=function(){this.subject.sort.apply(this.subject,arguments),this.emit("change",{type:"set",property:[]})},this.splice=function(){return a(this,[],arguments,{})},this.append=function(e){c(this,[],arguments,{})},this.data=this.id=function(e){return y(this,[],{data:e})},this.emit=function(t){if("change"===t){var n=Array.prototype.slice.call(arguments,1);this.internalChangeListeners.forEach(function(e){e.apply(this,n)}.bind(this))}e.prototype.emit.apply(this,arguments)},this.union=function(e){return void 0===e&&(e=!1),y(this,[],{union:e})},this.onChangeInternal=function(e){this.internalChangeListeners.push(e)},this.offChangeInternal=function(e){var t=this.internalChangeListeners.indexOf(e);this.internalChangeListeners.splice(t,1)}}),e.exports.getPropertyValue=function(e,t){var n=r(e,t);return void 0!==n.key?n.obj[n.key]:n.obj}),y=d(v,function(){this.init=function(e,t,n){this.options=void 0===n?{}:n,void 0!==e._observeeParent?this._observeeParent=e._observeeParent:this._observeeParent=e,this.property=t,this.subject=m(e.subject,t);var i,o=this;e.onChangeInternal(i=function(n){var s=f(o.property,n,o.options.union);if(s.isWithin){if("set"===n.type&&n.property.length<=o.property.length&&void 0===o.options.union){var a=r(e.subject,t);void 0!==a.obj&&(void 0!==a.key?o.subject=a.obj[a.key]:o.subject=a.obj)}o.emit("change",{type:n.type,property:n.property.slice(o.property.length),index:n.index,count:n.count,removed:n.removed,data:n.data})}else if(s.couldRelocate)if("removed"===n.type){var c=o.property[n.property.length],u=n.index+n.removed.length-1;u<c?o.property[n.property.length]=c-n.removed.length:u===c&&e.offChangeInternal(i)}else if("added"===n.type){var c=parseInt(o.property[n.property.length]);n.index<=c&&(o.property[n.property.length]=c+n.count)}else"set"===n.type&&e.offChangeInternal(i)})},this.get=function(e){return this._observeeParent.get(this.property.concat(i(e)))},this.set=function(e,t){o(this._observeeParent,this.property.concat(i(e)),t,this.options)},this.push=function(){s(this._observeeParent,this.property,arguments,this.options)},this.pop=function(){return a(this._observeeParent,this.property,[this.subject.length-1,1],this.options)[0]},this.unshift=function(){a(this._observeeParent,this.property,[0,0].concat(Array.prototype.slice.call(arguments,0)),this.options)},this.shift=function(){return a(this._observeeParent,this.property,[0,1],this.options)[0]},this.splice=function(e,t){return a(this._observeeParent,this.property,arguments,this.options)},this.reverse=function(){this.subject.reverse(),this.emit("change",{type:"set",property:[]})},this.sort=function(){this.subject.sort.apply(this.subject,arguments),this.emit("change",{type:"set",property:[]})},this.append=function(){c(this._observeeParent,this.property,arguments,this.options)},this.data=this.id=function(e){return y(this._observeeParent,this.property,p.merge({},this.options,{data:e}))},this.union=function(e){return void 0===e&&(e=!1),y(this,[],p.merge({},this.options,{union:e}))}})},function(e,t,n){function i(e,t){var n=e[0],r=e[1];for(var o in r)Object.hasOwnProperty.call(r,o)&&(t&&n[o]instanceof Object&&r[o]instanceof Object?i([n[o],r[o]],!0):n[o]=r[o]);if(e.length>2){return i([n].concat(e.slice(2)),t)}return n}function r(e){return Array.prototype.slice.call(e,0)}n(6),t.merge=function(e,t){return i(r(arguments),!1)},t.deepMerge=function(e,t){return i(r(arguments),!0)}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){p&&d&&(p=!1,d.length?v=d.concat(v):m=-1,v.length&&a())}function a(){if(!p){var e=r(s);p=!0;for(var t=v.length;t;){for(d=v,v=[];++m<t;)d&&d[m].run();m=-1,t=v.length}d=null,p=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,h,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var d,v=[],p=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||p||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){var n=function(){function e(e){for(var t=e.cssRules||e.rules||[],n={},i=0;i<t.length;i++){var r=o(t[i].selectorText);n[r]||(n[r]=[]),n[r].push({sheet:e,index:i,style:t[i].style})}return n}function t(e,t){var n=e.cssRules||e.rules||[],i=[];t=t.toLowerCase();for(var r=0;r<n.length;r++){var o=n[r].selectorText;!o||o!=t&&o!=h(t)&&o!=f(t)||i.push({sheet:e,index:r,style:n[r].style})}return i}function n(e,t){var n=e.cssRules||e.rules||[],o=n.length;return r(e,t,n,o)||i(e,t,o),{sheet:e,index:o,style:n[o].style}}function i(e,t,n){e.insertRule?e.insertRule(t+" { }",n):e.addRule(t,null,n)}function r(e,t,n,r){var a,c;if(b.exec(t))a=t,c=s(t);else{if(!x.exec(t))return!1;a=o(t),c=t}return y||(i(e,a,r),n.length<=r&&(y=!0)),y&&i(e,c,r),!0}function o(e){return e.replace(x,function(e,t,n,i){return t+"::"+i})}function s(e){return e.replace(b,function(e,t,n){return":"+n})}function a(e){var t=e.sheet;t.deleteRule?t.deleteRule(e.index):t.removeRule&&t.removeRule(e.index)}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e){for(var t={},n=0;n<e.length;n++)c(t,l(e[n].style));return t}function l(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[v(e[n])];return t}function h(e){for(var t="",n=0;null!=(match=g.exec(e))&&""!==match[0];)t+=e.substring(n,match.index),t+=e.substr(match.index+match[1].length,match[2].length),t+=e.substr(match.index,match[1].length),n=match.index+match[0].length;return t+=e.substr(n)}function f(e){return b.exec(e)?s(e):e}function d(e,t){for(var n in t){var i=t[n],r=i.indexOf(" !important");e.style.removeProperty(n),r>0?e.style.setProperty(n,i.substr(0,r),"important"):e.style.setProperty(n,i)}}function v(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function p(e){var t={};for(var n in e)t[m(n)]=e[n];return t}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}var y,g=/((?:\.|#)[^\.\s#]+)((?:\.|#)[^\.\s#]+)/g,b=/(::)(before|after|first-line|first-letter|selection)/,x=/([^:])(:)(before|after|first-line|first-letter|selection)/,w=function(e){this.doc=e,this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.sheets=this.doc.styleSheets||[]};w.prototype={get:function(n){if(!this.defaultSheet)return{};if(n)return u(t(this.defaultSheet,n));var i=e(this.defaultSheet);for(n in i)i[n]=u(i[n]);return i},getAll:function(e){for(var n={},i=0;i<this.sheets.length;i++)c(n,u(t(this.sheets[i],e)));return n},set:function(e,i){this.defaultSheet||(this.defaultSheet=this._createSheet()),i=p(i);var r=t(this.defaultSheet,e);r.length||(r=[n(this.defaultSheet,e)]);for(var o=0;o<r.length;o++)d(r[o],i)},remove:function(e){if(this.defaultSheet){if(!e)return this._removeSheet(this.defaultSheet),void delete this.defaultSheet;for(var n=t(this.defaultSheet,e),i=0;i<n.length;i++)a(n[i]);return n.length}},_createSheet:function(){var e=this.doc.createElement("style");return e.type="text/css",e.rel="stylesheet",this.head.appendChild(e),e.sheet},_removeSheet:function(e){var t=e.ownerNode;t.parentNode.removeChild(t)}};var S=new w(document);return S.forDocument=function(e){return new w(e)},S}();void 0!==e&&e.exports&&(e.exports=n)},function(e,t){t.dev=!1},function(e,t,n){var i=n(1),r=n(0);n(2);e.exports=r(i,function(e){this.name="Canvas",this.init=function(){if(2===arguments.length)var t=arguments[0],n=arguments[1];else var i=arguments[0],t=arguments[1],n=arguments[2];this.domNode=document.createElement("canvas"),this.label=i,this.height=t,this.width=n,e.init.apply(this,arguments)},Object.defineProperty(this,"width",{get:function(){return this.domNode.width},set:function(e){this.domNode.width=e}}),Object.defineProperty(this,"height",{get:function(){return this.domNode.height},set:function(e){this.domNode.height=e}}),this.context=function(){return this.domNode.getContext.apply(this.domNode,arguments)},this.toImg=this.toDataURL=function(){return this.domNode.toDataURL()}})},function(e,t,n){var i=n(1),r=n(0),o=n(3);e.exports=r(i,function(e){this.name="Block",this.init=function(){if("string"!=typeof arguments[0]&&void 0!==arguments[0])var t=arguments;else var n=arguments[0],t=Array.prototype.slice.call(arguments,1);this.children=[],this.domNode=o.div(),this.label=n,void 0!==t&&this.add.apply(this,t),e.init.apply(this,arguments)}})},function(e,t,n){var i=n(1),r=n(0);e.exports=r(i,function(e){this.name="Button",this.init=function(){if(arguments.length>=2)var t=arguments[0],n=arguments[1];else var n=arguments[0];this.domNode=document.createElement("input"),this.label=t,this.attr("type","button"),this.text=n,e.init.apply(this,arguments)},Object.defineProperty(this,"text",{get:function(){return this.attr("value")},set:function(e){this.attr("value",e)}})})},function(e,t,n){function i(){return this.domNode.checked}function r(e,t){var n=!0===e;this.domNode.checked!==n&&(this.domNode.checked=n,t||this.emit("change"))}var o=n(1),s=n(0),a=n(3);e.exports=s(o,function(e){this.name="CheckBox",this.init=function(t){this.domNode=document.createElement("input"),this.label=t,this.attr("type","checkbox"),e.init.apply(this,arguments),a.setupBoundProperty(this,this.quiet,"selected",{getFn:i,setFn:function(e){r.bind(this)(e,!0)}})},Object.defineProperty(this,"selected",{get:i,set:r})})},function(e,t,n){var i=n(1),r=n(0);e.exports=r(i,function(e){this.name="Image",this.init=function(){if(1===arguments.length)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("img"),this.label=n,void 0!==t&&(this.src=t),e.init.apply(this,arguments)},Object.defineProperty(this,"src",{get:function(){return this.domNode.src},set:function(e){this.domNode.src=e}})})},function(e,t,n){var i=n(0),r=n(1),o=n(2),s=n(25);e.exports=i(r,function(e){this.Item=s,this.name="List",this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else{if(arguments[1]instanceof Array)var t=arguments[1];else if(arguments[2]instanceof Array)var t=arguments[2];if("boolean"==typeof arguments[0])var n=arguments[0];else{if("boolean"==typeof arguments[1])var n=arguments[1];else var n=!1;if("string"==typeof arguments[0])var i=arguments[0]}}if(n)var r="ol";else{var r="ul";this.defaultStyle=o({listStyleType:"decimal"})}if(this.domNode=document.createElement(r),this.label=i,this.children=[],void 0!==t)for(var s=0;s<t.length;s++)this.item(t[s]);e.init.apply(this,arguments)},this.item=function(){var e=s.apply(this,arguments);return this.add(e),e}})},function(e,t,n){var i=n(1),r=n(0),o=n(2);e.exports=r(i,function(e){this.name="ListItem",this.defaultStyle=o({display:"list-item"}),this.init=function(){if(arguments.length<=1)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("li"),this.label=n,this.children=[],t instanceof i?this.add(t):void 0!==t&&(this.domNode.textContent=t),e.init.apply(this,arguments)}})},function(e,t,n){function i(e,t){var n=e.group.buttons,i=Object.keys(n),r=i.indexOf(e.attr("value"));if(1===t&&r===i.length-1)var o=n[i[0]];else if(-1===t&&0===r)var o=n[i[i.length-1]];else var o=n[i[r+t]];o.selected=!0,o.focus()}function r(e,t){var n=e._selected;void 0!==n&&(n.domNode.checked=!1),t.domNode.checked=!0,e._selected=t}var o=n(0),s=n(4).EventEmitter,a=n(1),c=n(3),u=function(e,t){return Math.floor(Math.random()*(t-e))+e}(0,999999);e.exports=o(s,function(e){function t(){return this._selected}function n(){throw new Error("Can't set selected on a Radio object")}function i(){var e=this._selected;if(void 0!==e)return e.attr("value")}function r(e,t){if(void 0===e){var n=this._selected;void 0!==n&&(t&&(n=n.quiet),n.selected=!1)}else{var i=this.buttons[e];if(void 0===i)throw new Error("There is no RadioButton in the group with the value: '"+e+"'");t&&(i=i.quiet),i.selected=!0}}this.name="Radio",this.init=function(e){this.required=!0===e||void 0===e,this.buttons={},this.randomStart=u++,this.quiet={},c.setupBoundProperty(this,this.quiet,"val",{getFn:i,setFn:function(e){r.bind(this)(e,!0)}})},this.button=function(){if(arguments.length>=2)var e=arguments[0],t=arguments[1];else var t=arguments[0];if(void 0!==this.buttons[t])throw new Error("Can't give a RadioButton the same value as another in the group (value: '"+t+"')");var n=l(this,e,t,"_radioblock"+this.randomStart);return this.buttons[t]=n,this.required&&void 0===this._selected&&(n.selected=!0),n},Object.defineProperty(this,"selectedOption",{get:t,set:n}),Object.defineProperty(this,"selected",{get:t,set:n}),Object.defineProperty(this,"val",{get:i,set:r}),this.remove=function(){if(arguments[0]instanceof Array)var e=arguments[0];else var e=arguments;for(var t=0;t<e.length;t++){var n=e[t];if(n instanceof l){var i=n,r=n.val;if(this.buttons[r]!==n)throw new Error("The button passed at index "+t+" is not part of the group.")}else{var i=this.buttons[n],r=n;if(void 0===i)throw new Error("There is no RadioButton in the group with the value: '"+r+"'")}var o=this.selected;this.selected===i&&(this._selected=void 0),this.buttons[r].group=void 0,delete this.buttons[r]}if(this.required&&void 0===this.selected)for(var s in this.buttons){this.buttons[s].selected=!0;break}else o!==this.selected&&this.emit("change")}});var l=o(a,function(e){function t(){return this.domNode.checked}function n(e,t){var n=!0===e;if(this.selected!==e){if(n){var i=this.group.selected;r(this.group,this),void 0===i||t||i.emit("change")}else{if(this.group.required)throw new Error("Can't unset this Radio set, a value is required.");this.domNode.checked=!1,this.group._selected=void 0}t||(this.emit("change"),this.group.emit("change"))}}this.name="RadioButton",this.init=function(i,r,o,s){this.domNode=document.createElement("input"),e.init.call(this),this.label=r,this.group=i,this.attr("type","radio"),this.attr("name",s),this.val=o,c.setupBoundProperty(this,this.quiet,"selected",{getFn:t,setFn:function(e){n.bind(this)(e,!0)}}),c.setupBoundProperty(this,this.quiet,"val",{getFn:t,setFn:n});var a=this;this.on("mousedown",function(e){e.preventDefault(),a.group.required?!1===a.selected&&(a.selected=!0):a.selected=!a.selected}),this.on("click",function(e){e.preventDefault()}),this.on("keydown",function(e){40===e.keyCode||39===e.keyCode?(e.preventDefault(),a.selectNext()):38!==e.keyCode&&37!==e.keyCode||(e.preventDefault(),a.selectPrevious())})},Object.defineProperty(this,"val",{get:function(){return this.attr("value")},set:function(e){if(void 0!==this.group.buttons[e])throw new Error("Can't give a RadioButton the same value as another in the group (value: '"+e+"')");var t=this.val;this.attr("value",e),void 0!==t&&delete this.group.buttons[t],this.group.buttons[e]=this}}),Object.defineProperty(this,"selected",{get:t,set:n}),this.selectNext=function(){i(this,1)},this.selectPrevious=function(){i(this,-1)}})},function(e,t,n){var i=n(1),r=n(0),o=n(3),s=n(28);e.exports=r(i,function(e){function t(){for(var e in this.options)if(this.options[e].selected)return this.options[e].val}function n(e,t){var n=this.options[e];if(void 0===n||n.val!==e)throw new Error("There is no Option in the Select with the value: '"+e+"'");t&&(n=n.quiet),n.selected=!0}this.name="Select",this.Option=s,this.init=function(){if(arguments[0]instanceof Object)var i=arguments[0];else var r=arguments[0],i=arguments[1];this.domNode=document.createElement("select"),this.label=r,this.children=[],this.options={};for(var s in i)this.option(s,i[s]);e.init.apply(this,arguments),o.setupBoundProperty(this,this.quiet,"val",{getFn:t,setFn:function(e){n.bind(this)(e,!0)}})},Object.defineProperty(this,"val",{get:t,set:n}),this.option=function(){if(2===arguments.length)var e=arguments[0],t=arguments[1];else{if(3!==arguments.length)throw new Error("Invalid number of arguments");var n=arguments[0],e=arguments[1],t=arguments[2]}var i=s(n,e,t);return this.add(i),i},this.addAt=function(t){var n=this,r=i.normalizeAddAtArguments.apply(this,arguments);r.forEach(function(e){if(void 0!==n.options[e.val])throw new Error("Can't give an Option the same value as another in the Select (value: '"+e.val+"')")}),e.addAt.call(this,t,r);var o=!1;r.forEach(function(e){e.selected&&(o=!0),n.options[e.val]=e,e.on("mousedown",function(t){e.parent.val=e.val})}),o&&this.emit("change")},this.remove=function(){var t=this,n=i.normalizeRemoveArguments.apply(this,arguments),r=n.map(function(e){return t.children[e]});e.remove.call(this,n);var o=!1;r.forEach(function(e){e.selected&&(o=!0),delete t.options[e.val]}),o&&this.emit("change")},this.prepareForValueChange=function(e,t){var n=e[0];for(var i in this.options)if(i!==n){var r=this.options[i];!0===r.selected&&(r.domNode.selected=!1,t||r.emit("change"))}}})},function(e,t,n){var i=n(0),r=n(1),o=n(2),s=n(3);e.exports=i(r,function(e){function t(){return this._value}function n(e,t){if(void 0!==this.parent){if(void 0!==this.parent.options[e])throw new Error("Can't give an Option the same value as another in the Select or MultiSelect (value: "+JSON.stringify(e)+")");null!==this.val&&delete this.parent.options[this.val],this.parent.options[e]=this}this._value=e,this.selected&&void 0!==this.parent&&!t&&this.parent.emit("change")}function i(){return this.domNode.selected}function r(e,t){var n=!0===e;if(this.selected===n)return!1;void 0!==this.parent&&this.parent.prepareForValueChange([this.val],t),this.selected!==n&&(this.domNode.selected=n,t||(this.emit("change"),void 0!==this.parent&&this.parent.emit("change")))}this.name="Option",this.defaultStyle=o({display:"block"}),this.init=function(){this.domNode=document.createElement("option"),2===arguments.length?(this.val=arguments[0],this.text=arguments[1]):(this.label=arguments[0],this.val=arguments[1],this.text=arguments[2]),e.init.apply(this,arguments),s.setupBoundProperty(this,this.quiet,"selected",{getFn:i,setFn:function(e){r.bind(this)(e,!0)}}),s.setupBoundProperty(this,this.quiet,"val",{getFn:t,setFn:function(e){n.bind(this)(e,!0)}})},Object.defineProperty(this,"val",{get:t,set:n}),Object.defineProperty(this,"selected",{get:i,set:r}),Object.defineProperty(this,"text",{get:function(){return this.domNode[s.textProperty]},set:function(e){this.domNode[s.textProperty]=e}}),this.setSelectedQuiet=function(e){this.quiet.selected=e}})},function(e,t,n){var i=n(0),r=n(1);e.exports=i(r,function(e){this.name="Svg",this.init=function(){if(1===arguments.length)var t=arguments[0];else var n=arguments[0],t=arguments[1];var i=document.createElement("div");i.innerHTML=t,this.domNode=i.firstChild,this.label=n,e.init.call(this)}})},function(e,t,n){function i(e,t,n){var i=t.apply(void 0,n);return e.add(i),i}var r=n(0),o=n(1),s=n(2),a=n(31),c=n(32),u=n(10);e.exports=r(o,function(e){this.name="Table",this.defaultStyle=s({borderSpacing:0}),this.Row=c,this.Header=a,this.Cell=u,this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else var n=arguments[0],t=arguments[1];if(this.domNode=document.createElement("table"),this.label=n,this.children=[],void 0!==t)for(var i=0;i<t.length;i++)this.row(t[i]);e.init.apply(this,arguments)},this.header=function(){return i(this,a,arguments)},this.row=function(){return i(this,c,arguments)}})},function(e,t,n){var i=n(9);e.exports=i("th","TableHeader")},function(e,t,n){var i=n(9);e.exports=i("tr","TableRow")},function(e,t,n){var i=n(0),r=n(1),o=n(3);e.exports=i(r,function(e){function t(){return this.domNode.value}function n(e,t){this.val!==e&&(this.domNode.value=e,t||this.emit("change"))}this.name="TextArea",this.init=function(i){this.domNode=document.createElement("textarea"),this.label=i,e.init.apply(this,arguments),o.setupBoundProperty(this,this.quiet,"val",{getFn:t,setFn:function(e){n.bind(this)(e,!0)}})},Object.defineProperty(this,"val",{get:t,set:n})})},function(e,t,n){var i=n(1),r=n(0),o=n(3);e.exports=r(i,function(e){function t(){return this.domNode.value}function n(e,t){this.val!==e&&(this.domNode.value=e,t||this.emit("change"))}this.name="TextField",this.init=function(){if(1===arguments.length)if("string"==typeof arguments[0])var i=arguments[0];else var r=arguments[0];else if(arguments.length>1)var i=arguments[0],r=arguments[1];this.domNode=document.createElement("input"),this.label=i,r&&this.attr("type","password"),e.init.apply(this,arguments),o.setupBoundProperty(this,this.quiet,"val",{getFn:t,setFn:function(e){n.bind(this)(e,!0)}})},Object.defineProperty(this,"val",{get:t,set:n})})},function(e,t,n){var i=n(0),r=n(1),o=n(2),s=n(3);e.exports=i(r,function(e){this.name="Text",this.defaultStyle=o({whiteSpace:"pre-wrap"}),this.init=function(){if(1===arguments.length)var t=arguments[0];else var n=arguments[0],t=arguments[1];void 0===t&&(t=""),this.domNode=s.div(),this.label=n,this.text=t,e.init.apply(this,arguments)},Object.defineProperty(this,"text",{get:function(){return this.domNode[s.textProperty]},set:function(e){this.domNode[s.textProperty]=e}})})}])});